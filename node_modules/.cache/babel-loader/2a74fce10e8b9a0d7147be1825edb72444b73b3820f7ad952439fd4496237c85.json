{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nexport const usePasteTracking = () => {\n  _s();\n  const [pasteEvents, setPasteEvents] = useState([]);\n  const trackPaste = useCallback((pastedText, position, totalLength) => {\n    const pasteEvent = {\n      id: `paste_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      text: pastedText,\n      position: position,\n      length: pastedText.length,\n      timestamp: Date.now(),\n      type: 'unknown',\n      // Will be: 'quote', 'citation', 'link', 'own-work', or 'unknown'\n      justified: false,\n      note: ''\n    };\n    setPasteEvents(prev => [...prev, pasteEvent]);\n    return pasteEvent.id;\n  }, []);\n  const annotatePaste = useCallback((pasteId, type, note = '') => {\n    setPasteEvents(prev => prev.map(event => event.id === pasteId ? {\n      ...event,\n      type,\n      justified: true,\n      note\n    } : event));\n  }, []);\n  const removePasteAnnotation = useCallback(pasteId => {\n    setPasteEvents(prev => prev.map(event => event.id === pasteId ? {\n      ...event,\n      type: 'unknown',\n      justified: false,\n      note: ''\n    } : event));\n  }, []);\n  const getPasteStats = useCallback(() => {\n    const total = pasteEvents.length;\n    const justified = pasteEvents.filter(e => e.justified).length;\n    const unjustified = total - justified;\n    const byType = pasteEvents.reduce((acc, event) => {\n      acc[event.type] = (acc[event.type] || 0) + 1;\n      return acc;\n    }, {});\n    const totalPastedChars = pasteEvents.reduce((sum, event) => sum + event.length, 0);\n    return {\n      total,\n      justified,\n      unjustified,\n      byType,\n      totalPastedChars,\n      hasUnjustified: unjustified > 0\n    };\n  }, [pasteEvents]);\n  const loadPasteEvents = useCallback(events => {\n    setPasteEvents(events || []);\n  }, []);\n  const clearPasteEvents = useCallback(() => {\n    setPasteEvents([]);\n  }, []);\n  return {\n    pasteEvents,\n    trackPaste,\n    annotatePaste,\n    removePasteAnnotation,\n    getPasteStats,\n    loadPasteEvents,\n    clearPasteEvents\n  };\n};\n_s(usePasteTracking, \"SiaRYU2XtJTZEQr0sBxLNL0+gWA=\");","map":{"version":3,"names":["useState","useCallback","usePasteTracking","_s","pasteEvents","setPasteEvents","trackPaste","pastedText","position","totalLength","pasteEvent","id","Date","now","Math","random","toString","substr","text","length","timestamp","type","justified","note","prev","annotatePaste","pasteId","map","event","removePasteAnnotation","getPasteStats","total","filter","e","unjustified","byType","reduce","acc","totalPastedChars","sum","hasUnjustified","loadPasteEvents","events","clearPasteEvents"],"sources":["/Users/van/Desktop/moc/frontend/src/hooks/usePasteTracking.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\nexport const usePasteTracking = () => {\n  const [pasteEvents, setPasteEvents] = useState([]);\n\n  const trackPaste = useCallback((pastedText, position, totalLength) => {\n    const pasteEvent = {\n      id: `paste_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      text: pastedText,\n      position: position,\n      length: pastedText.length,\n      timestamp: Date.now(),\n      type: 'unknown', // Will be: 'quote', 'citation', 'link', 'own-work', or 'unknown'\n      justified: false,\n      note: '',\n    };\n\n    setPasteEvents(prev => [...prev, pasteEvent]);\n    return pasteEvent.id;\n  }, []);\n\n  const annotatePaste = useCallback((pasteId, type, note = '') => {\n    setPasteEvents(prev =>\n      prev.map(event =>\n        event.id === pasteId\n          ? { ...event, type, justified: true, note }\n          : event\n      )\n    );\n  }, []);\n\n  const removePasteAnnotation = useCallback((pasteId) => {\n    setPasteEvents(prev =>\n      prev.map(event =>\n        event.id === pasteId\n          ? { ...event, type: 'unknown', justified: false, note: '' }\n          : event\n      )\n    );\n  }, []);\n\n  const getPasteStats = useCallback(() => {\n    const total = pasteEvents.length;\n    const justified = pasteEvents.filter(e => e.justified).length;\n    const unjustified = total - justified;\n\n    const byType = pasteEvents.reduce((acc, event) => {\n      acc[event.type] = (acc[event.type] || 0) + 1;\n      return acc;\n    }, {});\n\n    const totalPastedChars = pasteEvents.reduce((sum, event) => sum + event.length, 0);\n\n    return {\n      total,\n      justified,\n      unjustified,\n      byType,\n      totalPastedChars,\n      hasUnjustified: unjustified > 0,\n    };\n  }, [pasteEvents]);\n\n  const loadPasteEvents = useCallback((events) => {\n    setPasteEvents(events || []);\n  }, []);\n\n  const clearPasteEvents = useCallback(() => {\n    setPasteEvents([]);\n  }, []);\n\n  return {\n    pasteEvents,\n    trackPaste,\n    annotatePaste,\n    removePasteAnnotation,\n    getPasteStats,\n    loadPasteEvents,\n    clearPasteEvents,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAE7C,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMM,UAAU,GAAGL,WAAW,CAAC,CAACM,UAAU,EAAEC,QAAQ,EAAEC,WAAW,KAAK;IACpE,MAAMC,UAAU,GAAG;MACjBC,EAAE,EAAE,SAASC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;MACpEC,IAAI,EAAEX,UAAU;MAChBC,QAAQ,EAAEA,QAAQ;MAClBW,MAAM,EAAEZ,UAAU,CAACY,MAAM;MACzBC,SAAS,EAAER,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBQ,IAAI,EAAE,SAAS;MAAE;MACjBC,SAAS,EAAE,KAAK;MAChBC,IAAI,EAAE;IACR,CAAC;IAEDlB,cAAc,CAACmB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEd,UAAU,CAAC,CAAC;IAC7C,OAAOA,UAAU,CAACC,EAAE;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMc,aAAa,GAAGxB,WAAW,CAAC,CAACyB,OAAO,EAAEL,IAAI,EAAEE,IAAI,GAAG,EAAE,KAAK;IAC9DlB,cAAc,CAACmB,IAAI,IACjBA,IAAI,CAACG,GAAG,CAACC,KAAK,IACZA,KAAK,CAACjB,EAAE,KAAKe,OAAO,GAChB;MAAE,GAAGE,KAAK;MAAEP,IAAI;MAAEC,SAAS,EAAE,IAAI;MAAEC;IAAK,CAAC,GACzCK,KACN,CACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,qBAAqB,GAAG5B,WAAW,CAAEyB,OAAO,IAAK;IACrDrB,cAAc,CAACmB,IAAI,IACjBA,IAAI,CAACG,GAAG,CAACC,KAAK,IACZA,KAAK,CAACjB,EAAE,KAAKe,OAAO,GAChB;MAAE,GAAGE,KAAK;MAAEP,IAAI,EAAE,SAAS;MAAEC,SAAS,EAAE,KAAK;MAAEC,IAAI,EAAE;IAAG,CAAC,GACzDK,KACN,CACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,aAAa,GAAG7B,WAAW,CAAC,MAAM;IACtC,MAAM8B,KAAK,GAAG3B,WAAW,CAACe,MAAM;IAChC,MAAMG,SAAS,GAAGlB,WAAW,CAAC4B,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACX,SAAS,CAAC,CAACH,MAAM;IAC7D,MAAMe,WAAW,GAAGH,KAAK,GAAGT,SAAS;IAErC,MAAMa,MAAM,GAAG/B,WAAW,CAACgC,MAAM,CAAC,CAACC,GAAG,EAAET,KAAK,KAAK;MAChDS,GAAG,CAACT,KAAK,CAACP,IAAI,CAAC,GAAG,CAACgB,GAAG,CAACT,KAAK,CAACP,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;MAC5C,OAAOgB,GAAG;IACZ,CAAC,EAAE,CAAC,CAAC,CAAC;IAEN,MAAMC,gBAAgB,GAAGlC,WAAW,CAACgC,MAAM,CAAC,CAACG,GAAG,EAAEX,KAAK,KAAKW,GAAG,GAAGX,KAAK,CAACT,MAAM,EAAE,CAAC,CAAC;IAElF,OAAO;MACLY,KAAK;MACLT,SAAS;MACTY,WAAW;MACXC,MAAM;MACNG,gBAAgB;MAChBE,cAAc,EAAEN,WAAW,GAAG;IAChC,CAAC;EACH,CAAC,EAAE,CAAC9B,WAAW,CAAC,CAAC;EAEjB,MAAMqC,eAAe,GAAGxC,WAAW,CAAEyC,MAAM,IAAK;IAC9CrC,cAAc,CAACqC,MAAM,IAAI,EAAE,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAG1C,WAAW,CAAC,MAAM;IACzCI,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLD,WAAW;IACXE,UAAU;IACVmB,aAAa;IACbI,qBAAqB;IACrBC,aAAa;IACbW,eAAe;IACfE;EACF,CAAC;AACH,CAAC;AAACxC,EAAA,CA9EWD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}