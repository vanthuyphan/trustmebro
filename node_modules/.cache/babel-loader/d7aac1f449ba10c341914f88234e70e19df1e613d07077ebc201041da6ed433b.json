{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useRef } from 'react';\nexport const useVersionHistory = () => {\n  _s();\n  const [versions, setVersions] = useState([]);\n  const saveTimeoutRef = useRef();\n  const saveVersion = useCallback(content => {\n    const wordCount = content.trim() ? content.trim().split(/\\s+/).length : 0;\n    const charCount = content.length;\n    const newVersion = {\n      id: `v_${Date.now()}`,\n      content,\n      timestamp: Date.now(),\n      charCount,\n      wordCount\n    };\n    setVersions(prev => [...prev, newVersion]);\n  }, []);\n  const autoSaveVersion = useCallback(content => {\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Save version after 2 seconds of inactivity\n    saveTimeoutRef.current = setTimeout(() => {\n      if (content.trim()) {\n        saveVersion(content);\n      }\n    }, 2000);\n  }, [saveVersion]);\n  const getVersionCount = useCallback(() => versions.length, [versions]);\n  const getLatestVersion = useCallback(() => {\n    return versions[versions.length - 1] || null;\n  }, [versions]);\n  return {\n    versions,\n    saveVersion,\n    autoSaveVersion,\n    getVersionCount,\n    getLatestVersion\n  };\n};\n_s(useVersionHistory, \"hEZvJUWVKAXtYPDck07mVREfvtU=\");","map":{"version":3,"names":["useState","useCallback","useRef","useVersionHistory","_s","versions","setVersions","saveTimeoutRef","saveVersion","content","wordCount","trim","split","length","charCount","newVersion","id","Date","now","timestamp","prev","autoSaveVersion","current","clearTimeout","setTimeout","getVersionCount","getLatestVersion"],"sources":["/Users/van/Desktop/moc/frontend/src/hooks/useVersionHistory.js"],"sourcesContent":["import { useState, useCallback, useRef } from 'react';\n\nexport const useVersionHistory = () => {\n  const [versions, setVersions] = useState([]);\n  const saveTimeoutRef = useRef();\n\n  const saveVersion = useCallback((content) => {\n    const wordCount = content.trim() ? content.trim().split(/\\s+/).length : 0;\n    const charCount = content.length;\n\n    const newVersion = {\n      id: `v_${Date.now()}`,\n      content,\n      timestamp: Date.now(),\n      charCount,\n      wordCount,\n    };\n\n    setVersions(prev => [...prev, newVersion]);\n  }, []);\n\n  const autoSaveVersion = useCallback((content) => {\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Save version after 2 seconds of inactivity\n    saveTimeoutRef.current = setTimeout(() => {\n      if (content.trim()) {\n        saveVersion(content);\n      }\n    }, 2000);\n  }, [saveVersion]);\n\n  const getVersionCount = useCallback(() => versions.length, [versions]);\n\n  const getLatestVersion = useCallback(() => {\n    return versions[versions.length - 1] || null;\n  }, [versions]);\n\n  return {\n    versions,\n    saveVersion,\n    autoSaveVersion,\n    getVersionCount,\n    getLatestVersion,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAErD,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMO,cAAc,GAAGL,MAAM,CAAC,CAAC;EAE/B,MAAMM,WAAW,GAAGP,WAAW,CAAEQ,OAAO,IAAK;IAC3C,MAAMC,SAAS,GAAGD,OAAO,CAACE,IAAI,CAAC,CAAC,GAAGF,OAAO,CAACE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,KAAK,CAAC,CAACC,MAAM,GAAG,CAAC;IACzE,MAAMC,SAAS,GAAGL,OAAO,CAACI,MAAM;IAEhC,MAAME,UAAU,GAAG;MACjBC,EAAE,EAAE,KAAKC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;MACrBT,OAAO;MACPU,SAAS,EAAEF,IAAI,CAACC,GAAG,CAAC,CAAC;MACrBJ,SAAS;MACTJ;IACF,CAAC;IAEDJ,WAAW,CAACc,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEL,UAAU,CAAC,CAAC;EAC5C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,eAAe,GAAGpB,WAAW,CAAEQ,OAAO,IAAK;IAC/C;IACA,IAAIF,cAAc,CAACe,OAAO,EAAE;MAC1BC,YAAY,CAAChB,cAAc,CAACe,OAAO,CAAC;IACtC;;IAEA;IACAf,cAAc,CAACe,OAAO,GAAGE,UAAU,CAAC,MAAM;MACxC,IAAIf,OAAO,CAACE,IAAI,CAAC,CAAC,EAAE;QAClBH,WAAW,CAACC,OAAO,CAAC;MACtB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACD,WAAW,CAAC,CAAC;EAEjB,MAAMiB,eAAe,GAAGxB,WAAW,CAAC,MAAMI,QAAQ,CAACQ,MAAM,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEtE,MAAMqB,gBAAgB,GAAGzB,WAAW,CAAC,MAAM;IACzC,OAAOI,QAAQ,CAACA,QAAQ,CAACQ,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI;EAC9C,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd,OAAO;IACLA,QAAQ;IACRG,WAAW;IACXa,eAAe;IACfI,eAAe;IACfC;EACF,CAAC;AACH,CAAC;AAACtB,EAAA,CA9CWD,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}